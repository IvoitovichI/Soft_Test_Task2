pipeline {
    agent any

    stages {

        stage('Linux Firefox') {
            steps {
                bat """
                python -m robot ^
                    --variable OS:Linux ^
                    --variable OS_VERSION:latest ^
                    --variable BROWSER:firefox ^
                    tests
                """
            }
            post {
                always {
                    archiveArtifacts artifacts: 'output.xml'
                    archiveArtifacts artifacts: 'log.html'
                    archiveArtifacts artifacts: 'report.html'
                }
            }
        }
    }
}
